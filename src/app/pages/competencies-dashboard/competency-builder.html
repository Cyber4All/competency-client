<div class="builder">
    <div class="header">
        <h1>Competency Builder Form</h1>
        <button mat-icon-button aria-label="close dialog" mat-dialog-close>
            <mat-icon>close</mat-icon>
        </button>
    </div>
    <!--Example Stuff -->
    <!-- Fix this if this is awful -->
    <div class="competency-example">
      <h3 *ngIf="data?.audience !== ''">
        {{ data?.audience }} {{ data?.condition }} {{ data?.behavior }} {{ data?.degree }} {{ data?.effectiveness }}.
      </h3>
    </div>
    <div class="form">
        <div class="notice-bar" *ngIf="errorMessage && isDisabled">
          <mat-icon>error_outline</mat-icon>
          <span>All fields must  be complete</span>
        </div>
        <form class="example-form">
            <mat-form-field appearance="fill" color="primary">
                <!--Audience Fields -->
                <mat-label>Audience</mat-label>
                <mat-select [(ngModel)]="data.audience" [formControl]="audience">
                  <mat-optgroup label="Workforce and Post Graduate Work">
                    <mat-option value="The working professional">The working professional</mat-option>
                    <mat-option value="The intern">The intern</mat-option>
                  </mat-optgroup>
                  <mat-optgroup label="K12 and Higher Ed">
                    <mat-option *ngFor="let option of academia" [value]="'The ' + option">The {{option}}</mat-option>
                  </mat-optgroup>
                </mat-select>
                <mat-error *ngIf="audience.invalid">{{getErrorMessage(audience)}}</mat-error>
              </mat-form-field>
              <br>
              <!--Condition Fields-->
              <mat-form-field appearance="fill" color="primary">
                <mat-label>Condition</mat-label>
                <textarea matInput [(ngModel)]="data.condition" [formControl]="condition"></textarea>
                <mat-error *ngIf="condition.invalid">{{getErrorMessage(condition)}}</mat-error>
              </mat-form-field>
              <br>
              <!--Behavior Fields-->
              <mat-form-field appearance="fill" color="primary">
                <mat-label>Behavior</mat-label>
                <textarea matInput [(ngModel)]="data.behavior" [formControl]="behavior"></textarea>
                <mat-error *ngIf="behavior.invalid">{{getErrorMessage(behavior)}}</mat-error>
              </mat-form-field>
              <br>
              <!--Degree Fields-->
              <div class="degree-fields">
                <mat-form-field appearance="fill" color="primary">
                  <mat-label>Degree</mat-label>
                  <input matInput [(ngModel)]="data.degree" [formControl]="degree">
                  <mat-error *ngIf="degree.invalid">{{getErrorMessage(degree)}}</mat-error>
                </mat-form-field>
              </div>
              <!--Effectiveness Fields-->
              <mat-form-field appearance="fill" color="primary">
                <mat-label>Effectiveness</mat-label>
                <input matInput [(ngModel)]="data.effectiveness" [formControl]="effectiveness">
                <mat-error *ngIf="effectiveness.invalid">{{getErrorMessage(effectiveness)}}</mat-error>
              </mat-form-field>
              <!--Dialog Fields-->
              <div mat-dialog-actions>
                <button mat-button color="accent" (click)="onNoClick()">CANCEL</button>
                <button mat-button color="primary" [mat-dialog-close]="data" [disabled]="isDisabled" cdkFocusInitial>SUBMIT</button>
              </div>  
          </form>
    </div>
</div>
