<div class="competency-card_container">
  <!--Status Preview -->
  <div class="competency_edit-status-container {{ competency.status }}">
  
    <p class="competency_card-status" >
      <span *ngIf="competency.status === lifecycle.DRAFT" >
        <i class="fas fa-file-edit fa-2x"></i>
      </span>
      <span *ngIf="competency.status === lifecycle.SUBMITTED">
        <i class="fas fa-file-exclamation fa-2x"></i>
      </span>
      <span *ngIf="competency.status === lifecycle.DEPRECATED">
        <i class="fas fa-file-minus fa-2x"></i>
      </span>
      <span *ngIf="competency.status === lifecycle.REJECTED">
        <i class="fas fa-file-times fa-2x"></i>
      </span>        
      <span *ngIf="competency.status === lifecycle.PUBLISHED">
        <i class="fas fa-file-check fa-2x"></i>
      </span>
      <span class="competency_card_status_text">{{ competency.status }}</span>
    </p>
  </div>
  <div class="competency-constructor_accordion">
    <ng-container *ngIf="!loading; then competencyAccordion else loadingTemplate"></ng-container>
  </div>
</div>

<ng-template #competencyAccordion>
  <!--Actor Card Preview-->
  <div class="competency_edit-actor-container">
    <p class="competency_card-actor"><span>Actor</span>: {{ competency.actor.type }}</p>
  </div>
  <!--Behavior Card Preview-->
  <div class="competency_edit-behavior-container">
    <p class="competency_card-workrole"><span>Work Role</span>: {{ workrole.work_role }}</p>
    <p class="competency_card-task"><span>Task</span>: {{ tasks }}</p>
    <p class="competency_card-description"><span>Description</span>: {{ competency.behavior.details }}</p>
  </div>
</ng-template>

<ng-template #loadingTemplate>
  <div class="competency-loading">
      <i class="far fa-spinner-third fa-spin"></i>
      Loading...
  </div>
</ng-template>
